!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("ds",[],n):"object"==typeof exports?exports.ds=n():e.ds=n()}(this,(function(){return function(e){function n(n){for(var i,r,a=n[0],l=n[1],c=n[2],d=0,f=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&f.push(o[r][0]),o[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(u&&u(n);f.length;)f.shift()();return s.push.apply(s,c||[]),t()}function t(){for(var e,n=0;n<s.length;n++){for(var t=s[n],i=!0,a=1;a<t.length;a++){var l=t[a];0!==o[l]&&(i=!1)}i&&(s.splice(n--,1),e=r(r.s=t[0]))}return e}var i={},o={3:0},s=[];function r(n){if(i[n])return i[n].exports;var t=i[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=e,r.c=i,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)r.d(t,i,function(n){return e[n]}.bind(null,i));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="/";var a=this.webpackJsonp_name_=this.webpackJsonp_name_||[],l=a.push.bind(a);a.push=n,a=a.slice();for(var c=0;c<a.length;c++)n(a[c]);var u=l;return s.push([32,0,7]),t()}({32:function(e,n,t){function i(){t(33)}var o=function(){return["findIndex"in Array.prototype?0:1,"values"in Object?0:1,"Promise"in this?0:1,"endsWith"in String.prototype?0:1,"includes"in String.prototype?0:1,"fetch"in this?0:1]}.call(window);if(-1===o.indexOf(1))i();else{var s=document.createElement("script");s.src="/polyfills."+o.join("")+".js",s.onload=i,s.onerror=function(e){console.error("Could not load the polyfills: "+e)},document.head.appendChild(s)}},33:function(e,n,t){"use strict";t.r(n),function(e){t(55);var n=t(9),i=t(15),o=t(19),s=t(20),r=t(21),a=t(22),l=t(2),c=t.n(l);t(37);n.a.autoReplaceSvg="nest",n.c.add(i.faPlusSquare,o.faPen,s.faSearch,r.faAngleRight,a.faTimes),n.b.watch(),window.jQuery=c.a,window.$=c.a,e.$=c.a;var u=t(34),d=u.compile(t(41)),f=u.compile(t(42)),p=u.compile(t(43)),h=u.compile(t(44));c()(document).ready((function(){var e=null;c()("#search").on("hidden.bs.collapse",(function(e){c()("#choose").toggleClass("d-none"),c()("#search").toggleClass("d-none"),c()("#searchinput").val("")})).on("shown.bs.collapse",(function(e){c()("#choose").toggleClass("d-none"),c()("#search").toggleClass("d-none"),c()("#searchinput").focus()})),c()("#ds-search-list").on("show.bs",(function(n){e=setTimeout((function(){c()("#searching").show()}),500)})).on("hide.bs",(function(n){c()("#searching").hide(),e&&clearTimeout(e)})),c()("#add_button").on("click",(function(e){e.preventDefault(),c()("#choose").toggleClass("d-none"),c()("#search").toggleClass("d-none")})),c()("#edit_button").on("click",(function(e){e.preventDefault(),c()("#choosetools").toggleClass("d-none"),c()("#done_button").toggleClass("d-none").toggleClass("display-block"),c()("#savedchoices").removeClass("choose").addClass("edit"),c()(".institution-text").addClass("item-fade"),c()(".institution-icon").addClass("item-fade"),c()(".institution-select").toggleClass("d-none"),c()(".institution-remove").toggleClass("d-none")})),c()("#done_button").on("click",(function(e){e.preventDefault(),c()("#done_button").toggleClass("d-none").toggleClass("display-block"),c()("#choosetools").toggleClass("d-none"),c()("#savedchoices").removeClass("edit").addClass("choose"),c()(".institution-text").removeClass("item-fade"),c()(".institution-icon").removeClass("item-fade"),c()(".institution-select").toggleClass("d-none"),c()(".institution-remove").toggleClass("d-none")})),c()("#dsclient").discovery_client({mdq:"https://md.seamlessaccess.org/entities/",persistence:"https://service.seamlessaccess.org/ps/",search:"https://md.seamlessaccess.org/entities/",context:"seamlessaccess.org",inputfieldselector:"#searchinput",render_search_result:function(n){return console.log("render_search_result"),e&&(clearTimeout(e),e=null),c()("#searching").hide(),d.render(n)},render_saved_choice:function(e){return f.render(e)},too_many_results:function(n){return e&&(clearTimeout(e),e=null),c()("#searching").hide(),p.render({count:n})},no_results:function(){return e&&(clearTimeout(e),e=null),c()("#searching").hide(),h.render()},after:function(e,n){console.log("after - "+e),c()("#searching").hide(),0==e?(c()("#search").removeClass("d-none"),c()("#choose").addClass("d-none"),c()("#searchinput").focus()):(c()("#choose").removeClass("d-none"),c()("#search").addClass("d-none"))}}).discovery_client("sp").then((function(e){return c()(".sp_title").text(e.title)}))}))}.call(this,t(6))},41:function(e,n){e.exports='<a class="institution identityprovider" tabindex="0" data-href="{{entity_id}}">\n    <li><i class="arrow fa fa-angle-right"></i>\n        <div class="d-block institution-text">\n            <div class="text-truncate label primary">{{title}}</div>\n            <div class="text-truncate label-url secondary">{{domain}}</div>\n        </div>\n    </li>\n</a>'},42:function(e,n){e.exports='<a class="identityprovider" tabindex="0" data-href="{{entity_id}}">\n    <li class="institution clearfix">\n        <i class="institution-remove remove top-right fa fa-times d-none"></i>\n        {{#entity_icon}}\n        <div class="institution-mask">\n            <img class="institution-icon" alt="{{name_tag}}" src="{{entity_icon}}" />\n        </div>\n        {{/entity_icon}}\n        {{#entity_icon_url}}\n        <div class="institution-mask">\n            <img class="institution-icon" alt="{{name_tag}}" src="{{entity_icon_url.url}}" />\n        </div>\n        {{/entity_icon_url}}\n        {{^entity_icon_url}}\n        {{^entity_icon}}\n            <svg class="institution-icon logo"\n                 width="40"\n                 height="40">\n                <circle cx="20" cy="20" r="20" fill="#aeaeae" />\n                <text x="50%"\n                      y="50%"\n                      text-anchor="middle"\n                      fill="white"\n                      font-size="12px"\n                      font-family="Arial"\n                      dy=".3em">{{name_tag}}</text>\n            </svg>\n        {{/entity_icon}}\n        {{/entity_icon_url}}\n        <div class="institution-text">\n            <i class="institution-select arrow fa fa-angle-right"></i>\n            <div class="primary">{{title}}</div>\n            <span class="secondary">{{domain}}</span>\n        </div>\n    </li>\n</a>\n'},43:function(e,n){e.exports='<li class="type-ahead-alert">\n    <div role="alert">\n        <p><span class="bold">{{count}} Matches</span> keep typing to refine your search</p>\n    </div>\n</li>'},44:function(e,n){e.exports='<li>\n    <div class="no-results-alert" role="alert">\n        <h3 class="bold">No matching institutions found</h3>\n        <ul>\n            <li>Try entering an institution name, abbreviation or your institution email</li>\n            <li>Try accessing through your library website</li>\n            <li>Contact your librarian</li>\n        </ul>\n    </div>\n</li>'},55:function(e,n){}})}));